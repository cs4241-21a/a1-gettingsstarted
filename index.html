<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 1</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/global.css">

    <script src="https://unpkg.com/mustache@latest"></script>
    <script src="data/roles.js"></script>
    <script src="data/courses.js"></script>
    <script src="data/headers.js"></script>
    <script src="data/skills.js"></script>

    <script>
      const renderTemplate = (template, id, data) =>
              document.getElementById(id).innerHTML = Mustache.render(template, { data: data });

      function onLoad() {
        fetch('templates/card.mustache').then(response => response.text())
                .then(template => {
                  renderTemplate(template, 'roles', roles);
                  renderTemplate(template, 'courses', courses);
                  renderTemplate(template, 'skills', skills);
                });

        fetch('templates/header.mustache').then(response => response.text())
                .then(template => {
                  renderTemplate(template, 'roles-header', headers.readme);
                  renderTemplate(template, 'courses-header', headers.education);
                  renderTemplate(template, 'skills-header', headers.skills);
                });
      }
    </script>
  </head>
  <body onload="onLoad()">
    <div class="banner"></div>
    <div class="page">
      <div class="page__framework">
        <div class="page__hero">
          <h1 class="hero__text">Hello, I'm <span>Nathan</span></h1>
          <div class="hero__cursor"></div>
        </div>

        <div id="roles-header"></div>
        <div class="page__cards" id="roles"></div>

        <div id="courses-header"></div>
        <div class="page__cards" id="courses"></div>

        <div id="skills-header"></div>
        <div class="page__cards" id="skills"></div>
      </div>
    </div>
  </body>
</html>
